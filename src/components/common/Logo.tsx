import React, { useEffect, useRef } from 'react';
import { View, StyleSheet, ViewStyle, Animated } from 'react-native';
import Svg, { G, Path } from 'react-native-svg';

interface LogoProps {
  width?: number;
  height?: number;
  style?: ViewStyle;
  color?: string;
  animated?: boolean;
  duration?: number;
}

const Logo: React.FC<LogoProps> = ({ 
  width = 120, 
  height = 120, 
  style, 
  color = '#FFFFFF',
  animated = true,
  duration = 3000
}) => {
  const spinValue = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    if (animated) {
      const spin = Animated.loop(
        Animated.timing(spinValue, {
          toValue: 1,
          duration: duration,
          useNativeDriver: true,
        })
      );
      spin.start();
      return () => spin.stop();
    }
  }, [animated, duration, spinValue]);

  const spin = spinValue.interpolate({
    inputRange: [0, 1],
    outputRange: ['0deg', '360deg'],
  });

  return (
    <Animated.View 
      style={[
        styles.container, 
        { width, height }, 
        style,
        animated && { transform: [{ rotate: spin }] }
      ]}
    >
      <Svg width={width} height={height} viewBox="0 0 93 62">
        <G transform="translate(46.5, 31) rotate(45) translate(-46.5, -31)">
          <Path
            d="M0 0 C0.84755859 0.00322266 1.69511719 0.00644531 2.56835938 0.00976562 C3.44943359 0.01814453 4.33050781 0.02652344 5.23828125 0.03515625 C6.57729492 0.04192383 6.57729492 0.04192383 7.94335938 0.04882812 C10.14590112 0.06060642 12.34830724 0.07705461 14.55078125 0.09765625 C14.55078125 1.74765625 14.55078125 3.39765625 14.55078125 5.09765625 C12.68873047 5.15373047 12.68873047 5.15373047 10.7890625 5.2109375 C9.14710614 5.27661575 7.50518038 5.34306245 5.86328125 5.41015625 C4.63834961 5.44399414 4.63834961 5.44399414 3.38867188 5.47851562 C-1.35642782 5.68983585 -4.5363518 6.12515243 -8.44921875 9.09765625 C-8.17887241 11.53482883 -8.17887241 11.53482883 -7.44921875 14.09765625 C-4.37230109 16.14893469 -3.51276876 16.37026497 0 16.51171875 C0.84755859 16.55039062 1.69511719 16.5890625 2.56835938 16.62890625 C3.8899707 16.6753125 3.8899707 16.6753125 5.23828125 16.72265625 C6.13095703 16.76132812 7.02363281 16.8 7.94335938 16.83984375 C10.14562745 16.93405843 12.34788847 17.01967213 14.55078125 17.09765625 C14.55078125 18.74765625 14.55078125 20.39765625 14.55078125 22.09765625 C11.5085706 22.17898267 8.46855745 22.23830999 5.42578125 22.28515625 C4.56984375 22.31029297 3.71390625 22.33542969 2.83203125 22.36132812 C-3.66211436 22.43626057 -7.95824081 21.45753009 -12.82421875 16.84765625 C-14.9927083 13.1779047 -15.25892201 11.29339134 -14.44921875 7.09765625 C-10.41203896 2.29813666 -6.3041379 -0.04230965 0 0 Z "
            fill={color}
            transform="translate(29.44921875,21.90234375)"
          />
          <Path
            d="M0 0 C2.70894767 -0.08144943 5.41541263 -0.14070614 8.125 -0.1875 C8.88554688 -0.21263672 9.64609375 -0.23777344 10.4296875 -0.26367188 C16.25976332 -0.33906079 20.09090041 0.81354298 24.83984375 4.3828125 C26.89878212 7.2528478 26.58095853 10.1312299 26.49609375 13.55078125 C25.92979841 16.3465858 25.28908524 17.25821377 23.125 19.0625 C19.56800573 21.26783645 17.95769114 22.12646261 13.8671875 22.09765625 C13.06152344 22.09443359 12.25585938 22.09121094 11.42578125 22.08789062 C10.58402344 22.07951172 9.74226563 22.07113281 8.875 22.0625 C8.02550781 22.05798828 7.17601562 22.05347656 6.30078125 22.04882812 C4.20049091 22.03702874 2.1002367 22.01909306 0 22 C0 20.35 0 18.7 0 17 C1.19238281 16.95101562 2.38476562 16.90203125 3.61328125 16.8515625 C5.17971068 16.77652396 6.74611579 16.7009766 8.3125 16.625 C9.09818359 16.5940625 9.88386719 16.563125 10.69335938 16.53125 C11.8293457 16.47324219 11.8293457 16.47324219 12.98828125 16.4140625 C13.68477783 16.3826416 14.38127441 16.3512207 15.09887695 16.31884766 C17.32532739 16.07881747 17.32532739 16.07881747 20 14 C20.2502157 10.91634129 20.2502157 10.91634129 20 8 C16.18384532 5.52954197 12.15255752 5.56168088 7.75 5.375 C7.00492188 5.33632813 6.25984375 5.29765625 5.4921875 5.2578125 C3.6618476 5.16394892 1.83095857 5.08090282 0 5 C0 3.35 0 1.7 0 0 Z "
            fill={color}
            transform="translate(51,22)"
          />
          <Path
            d="M0 0 C10.56 0 21.12 0 32 0 C31.67 1.65 31.34 3.3 31 5 C21.1 5 11.2 5 1 5 C0.67 3.35 0.34 1.7 0 0 Z "
            fill={color}
            transform="translate(29,31)"
          />
        </G>
      </Svg>
    </Animated.View>
  );
};

const styles = StyleSheet.create({
  container: {
    alignItems: 'center',
    justifyContent: 'center',
  },
});

export default Logo;

